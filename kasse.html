<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Kassenbuch – PhysioTraining</title>

<style>
:root {
    --primary: #0b6e7f;
    --secondary: #e85a9b;
    --bg: #f5f9fa;
}

body {
    font-family: Arial, sans-serif;
    background: var(--bg);
    margin: 0;
    padding: 0;
}

header {
    background: white;
    padding: 20px;
    display: flex;
    align-items: center;
    border-bottom: 4px solid var(--primary);
}

header img {
    height: 60px;
}

header h1 {
    margin-left: 20px;
    color: var(--primary);
}

.container {
    padding: 20px;
}

input, button {
    padding: 8px;
    margin: 5px;
}

button {
    background: var(--primary);
    color: white;
    border: none;
    cursor: pointer;
}

button:hover {
    background: var(--secondary);
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    background: white;
}

th, td {
    border: 1px solid #ccc;
    padding: 8px;
    text-align: center;
}

th {
    background: var(--primary);
    color: white;
}

.total {
    margin-top: 20px;
    font-size: 20px;
    font-weight: bold;
    color: var(--primary);
}
</style>
</head>

<body>

<header>
    <img src="LOGO_Physio-Training-com_high RGB_v1.jpg" alt="PhysioTraining Logo">
    <h1>Kassenbuch</h1>
</header>

<div class="container">

<input type="number" id="eingang" placeholder="Eingang €" step="0.01">
<input type="number" id="ausgang" placeholder="Ausgang €" step="0.01">
<input type="text" id="bemerkung" placeholder="Bemerkung">

<button onclick="addEntry()">Speichern</button>

<table>
<thead>
<tr>
<th>Datum</th>
<th>Eingang</th>
<th>Ausgang</th>
<th>Bemerkung</th>
<th>Saldo</th>
<th>Aktion</th>
</tr>
</thead>
<tbody id="table"></tbody>
</table>

<div class="total">
Aktueller Kassenbestand: <span id="total">0.00</span> €
</div>

</div>

<script>
let entries = JSON.parse(localStorage.getItem("kasse")) || [];

function save() {
    localStorage.setItem("kasse", JSON.stringify(entries));
}

function render() {
    let saldo = 0;
    let html = "";

    entries.forEach((e, i) => {
        saldo += e.eingang - e.ausgang;
        html += `
        <tr>
            <td>${e.datum}</td>
            <td>${e.eingang.toFixed(2)}</td>
            <td>${e.ausgang.toFixed(2)}</td>
            <td>${e.bemerkung}</td>
            <td>${saldo.toFixed(2)}</td>
            <td>
                <button onclick="remove(${i})">X</button>
            </td>
        </tr>`;
    });

    document.getElementById("table").innerHTML = html;
    document.getElementById("total").innerText = saldo.toFixed(2);
}

function addEntry() {
    const eingang = parseFloat(eingangInput.value) || 0;
    const ausgang = parseFloat(ausgangInput.value) || 0;

    entries.push({
        datum: new Date().toLocaleDateString("de-DE"),
        eingang,
        ausgang,
        bemerkung: bemerkungInput.value
    });

    save();
    render();

    eingangInput.value = "";
    ausgangInput.value = "";
    bemerkungInput.value = "";
}

function remove(index) {
    entries.splice(index, 1);
    save();
    render();
}

const eingangInput = document.getElementById("eingang");
const ausgangInput = document.getElementById("ausgang");
const bemerkungInput = document.getElementById("bemerkung");

render();
</script>

</body>
</html>
